#!/bin/sh
#[[ "$1" = "OLD" ]] && SVN_ADMIN=$SVN_ADMIN_OLD # REST API Started with Subversion Edge 2.2
[[ "$SVN_ADMIN" = "" ]] && echo "Var SVN_ADMIN is not detected ! Run at first: . varadd SVN_ADMIN '<url with port>'" && exit 1

echo -n Enter password for $USERNAME: && read -s PASSWORD && echo
echo "reading repo list for $SVN_ADMIN..."

curl -u $USERNAME:$PASSWORD "$SVN_ADMIN"/csvn/api/1/repository?format=json -k -s | jq '.repositories | .[] | .name'
# -v
# "id" "status" "svnUrl"
